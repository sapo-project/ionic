<ion-header>
    <ion-navbar>
        <button ion-button menuToggle>
            <ion-icon name="menu"></ion-icon>
        </button>
        <ion-title>SAPO</ion-title>
    </ion-navbar>
</ion-header>

<ion-content padding>
    <ion-card *ngIf="!env.project">
        <ion-card-header>
            Bem vindo ao SAPO
        </ion-card-header>
        <ion-card-content>
            <p>
                O SAPO (<b>S</b>istema de <b>A</b>utomatização de <b>P</b>onto <b>O</b>nline), irá te auxiliar a gerenciar o tempo dedicado em cada projeto.
            </p>
        </ion-card-content>
    </ion-card>

    <ion-card *ngIf="env.project">
        <ion-card-header>
            Projeto {{ env.project.name }}
        </ion-card-header>
        <ion-card-content>
            <p>
                {{ env.project.description }}
            </p>
        </ion-card-content>
    </ion-card>

    <div *ngIf="env.project" padding>
        <button
            ion-button
            full
            color="primary"
            padding
            round
            (click)="startJob()">
            Iniciar trabalho
        </button>

        <button
            ion-button
            full
            color="light"
            padding
            round
            style="margin-top: 15px"
            (click)="endJob()">
            Finalizar trabalho
        </button>

        <br>
        <hr>

        <ion-grid align-items-center>
            <ion-row>
                <ion-col style="background-color: aliceblue; text-align: center;">
                    <b>Períodos de trabalho</b>
                </ion-col>
            </ion-row>
            <ion-row>
                <ion-col text-center>
                    Data
                </ion-col>
                <ion-col text-center>
                    Início
                </ion-col>
                <ion-col text-center>
                    Fim
                </ion-col>
            </ion-row>

            <ion-row *ngFor="let r of registers">
                <ion-col text-center>
                    <small>{{ r.created_at }}</small>
                </ion-col>
                <ion-col text-center>
                    <small>{{ r.start }}</small>
                </ion-col>
                <ion-col text-center>
                    <small>{{ r.end }}</small>
                </ion-col>
            </ion-row>
          </ion-grid>
    </div>

    <div *ngIf="!env.project" padding>
        <button ion-button full color="secondary" padding round (click)="openProjectPage()">Criar projeto</button>
    </div>
</ion-content>
